# -*- coding: utf-8 -*-
"""
Created on Wed Mar 26 17:56:26 2025

@author: 24144
"""

import numpy as np
from scipy.interpolate import interp1d



# Graphite anode material
soc_graphite_value = [
    0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14, 
    0.15, 0.16, 0.17, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 
    0.3, 0.31, 0.32, 0.33, 0.34, 0.35, 0.36, 0.37, 0.38, 0.39, 0.4, 0.41, 0.42, 0.43, 0.44, 
    0.45, 0.46, 0.47, 0.48, 0.49, 0.5, 0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.57, 0.58, 0.59, 
    0.6, 0.61, 0.62, 0.63, 0.64, 0.65, 0.66, 0.67, 0.68, 0.69, 0.7, 0.71, 0.72, 0.73, 0.74, 
    0.75, 0.76, 0.77, 0.78, 0.79, 0.8, 0.81, 0.82, 0.83, 0.84, 0.85, 0.86, 0.87, 0.88, 0.89, 
    0.9, 0.91, 0.92, 0.93, 0.94, 0.95, 0.96, 0.97, 0.98
]

ueq_graphite_value = [
    2.781186612, 1.520893224, 0.893922607, 0.581284406, 0.42452844, 0.344895805, 0.303146342, 
    0.279578072, 0.264093089, 0.251347845, 0.238588379, 0.224803164, 0.210294358, 0.196408586, 
    0.184624188, 0.175188157, 0.167373311, 0.160452107, 0.154025412, 0.147948522, 0.142214997, 
    0.13688271, 0.132033114, 0.127747573, 0.124091616, 0.121103387, 0.11878567, 0.117102317, 
    0.115980205, 0.115317054, 0.114993965, 0.114890105, 0.114886278, 0.114884619, 0.114873068, 
    0.114824904, 0.114644725, 0.114372614, 0.114017954, 0.11359371, 0.11311133, 0.112575849, 
    0.111980245, 0.111297682, 0.110470149, 0.109393081, 0.107900592, 0.10576964, 0.102783317, 
    0.09889031, 0.094391564, 0.089921069, 0.086112415, 0.083265315, 0.081326247, 0.080074892, 
    0.07928329, 0.078778765, 0.078447703, 0.078220432, 0.078055641, 0.077929111, 0.077826563, 
    0.077739397, 0.077662227, 0.077591472, 0.077524557, 0.077459463, 0.077394455, 0.077327934, 
    0.077258337, 0.077184077, 0.077103499, 0.077014851, 0.076916258, 0.07680571, 0.07668104, 
    0.07653992, 0.076379839, 0.076198086, 0.075991699, 0.075757371, 0.075491288, 0.075188813, 
    0.07484398, 0.074448647, 0.07399118, 0.073454466, 0.072812991, 0.072028722, 0.071045433, 
    0.069780996, 0.068116222, 0.065874599, 0.062770873, 0.058253898, 0.051075794, 0.038790069, 
    0.020172191
]


# NMC 811 cathode material
soc_NMC811_value = [
    0.2228930343076256, 0.23718770939025557, 0.2503742701253948, 0.2635608308605341, 
    0.2767473915956734, 0.28993395233081265, 0.3031205130659519, 0.3163070738010912, 
    0.3294936345362305, 0.3426801952713697, 0.355866756006509, 0.3690533167416483, 
    0.38223987747678756, 0.3954264382119268, 0.4086129989470661, 0.4217995596822054, 
    0.43498612041734463, 0.44817268115248393, 0.4613592418876232, 0.47454580262276247, 
    0.4877323633579017, 0.500918924093041, 0.5141054848281803, 0.5272920455633195, 
    0.5404786062984588, 0.5536651670335981, 0.5668517277687374, 0.5800382885038766, 
    0.593224849239016, 0.6064114099741551, 0.6195979707092945, 0.6327845314444338, 
    0.6459710921795729, 0.6591576529147123, 0.6723442136498515, 0.6855307743849908, 
    0.6987173351201301, 0.7119038958552694, 0.7250904565904086, 0.738277017325548, 
    0.7514635780606872, 0.7646501387958264, 0.7778366995309657, 0.791023260266105, 
    0.8042098210012443, 0.8173963817363835, 0.8305829424715228, 0.8437695032066621, 
    0.8569560639418013, 0.8701426246769406, 0.8833291854120799, 0.8965157461472192, 
    0.9097023068823584, 0.9228888676174977, 0.9351335311572699, 0.9505178520149323, 
    0.9624485498229155, 0.9756351105580549, 0.9888216712931941, 0.998240643246865, 
    0.9994965061740211, 1
]

ueq_NMC811_value = [
    4.256817954840526, 4.2212385803217725, 4.198216215024365, 4.184354581468334, 
    4.175555457558853, 4.169287588472648, 4.163501863162304, 4.156631314356272, 
    4.145300935623516, 4.130836622347658, 4.113841054248525, 4.09395262349422, 
    4.0746668724597415, 4.056104337089057, 4.037903409550268, 4.021944450569238, 
    4.007287279783036, 3.9945104697226936, 3.9798050845589046, 3.96497916345115, 
    3.9507559220632222, 3.9348451774597786, 3.918090681248576, 3.901215649093408, 
    3.884581688826171, 3.8661396893994517, 3.850108408852042, 3.834920879912391, 
    3.819612815028774, 3.806233325248605, 3.795023482459815, 3.7852600709986106, 
    3.77646094708913, 3.7660948559080984, 3.7569341241667216, 3.748376072145172, 
    3.7407823076753464, 3.7321037197098312, 3.724148347408109, 3.7154697594425943, 
    3.7046215244857006, 3.69582240057622, 3.686541132890878, 3.6770187933176044, 
    3.6672553818564, 3.6556839312357132, 3.643871408727096, 3.633505317546064, 
    3.6226570825891704, 3.6130142070719313, 3.603009723722796, 3.592643632541764, 
    3.585049868071939, 3.5790230708736646, 3.5724538619275457, 3.5661257248693574, 
    3.559857855783152, 3.5525051632012574, 3.541536392300398, 3.488540755603573, 
    3.3640592684056174, 3.0
]

# Convert lists to NumPy arrays
soc_graphite_mat = np.array(soc_graphite_value)
ueq_graphite_mat = np.array(ueq_graphite_value)

soc_NMC811_mat = np.array(soc_NMC811_value)
ueq_NMC811_mat = np.array(ueq_NMC811_value)


graphite_mat = np.vstack((soc_graphite_mat, ueq_graphite_mat)).T
NMC811_mat = np.vstack((soc_NMC811_mat, ueq_NMC811_mat)).T



soc_regul = np.linspace(0.25, 0.95, 100)

interp_func_neg = interp1d(graphite_mat[:,0], graphite_mat[:,1], kind='linear')
interp_func_pos = interp1d(NMC811_mat[:,0], NMC811_mat[:,1], kind='linear')

graph_val_regul = interp_func_neg(soc_regul)
NMC811_val_regul = interp_func_pos(soc_regul)

ocv_val_regul = NMC811_val_regul - graph_val_regul

ocv_mat_regul = np.zeros([100, 2])
ocv_mat_regul[:, 0] = 1 - soc_regul
ocv_mat_regul[:, 0] = np.flip(ocv_mat_regul[:, 0])
ocv_mat_regul[:, 1] = ocv_val_regul
ocv_mat_regul[:, 1] = np.flip(ocv_mat_regul[:, 1])



